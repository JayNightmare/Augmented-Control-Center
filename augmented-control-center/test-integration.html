<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Training Studio Integration Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .test-section {
            background-color: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        button:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        .console {
            background-color: #000;
            color: #00ff00;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            height: 200px;
            overflow-y: auto;
            margin: 10px 0;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #333;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background-color: #007bff;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <h1>AI Training Studio Integration Test</h1>
    
    <div class="test-section">
        <h2>Module Loading Test</h2>
        <button onclick="testModuleLoading()">Test Module Loading</button>
        <div id="module-status">Not tested</div>
    </div>
    
    <div class="test-section">
        <h2>AI Training Studio Test</h2>
        <button onclick="testAITrainingStudio()">Initialize AI Training Studio</button>
        <button onclick="testStartTraining()" id="start-training-btn" disabled>Start Training</button>
        <button onclick="testStopTraining()" id="stop-training-btn" disabled>Stop Training</button>
        <div id="training-status">Not initialized</div>
    </div>
    
    <div class="test-section">
        <h2>Progress Tracking Test</h2>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
        </div>
        <div id="progress-text">0%</div>
    </div>
    
    <div class="test-section">
        <h2>Console Output</h2>
        <div class="console" id="console-output">Console ready...</div>
    </div>

    <script type="module">
        import { AITrainingStudio } from './src/modules/ai/ai-training-studio.js';
        
        let aiTrainingStudio = null;
        
        window.testModuleLoading = function() {
            const statusDiv = document.getElementById('module-status');
            try {
                statusDiv.textContent = 'Testing module imports...';
                statusDiv.style.color = '#ffa500';
                
                // Test if we can create an instance
                const testStudio = new AITrainingStudio();
                statusDiv.textContent = '✅ Module loading successful!';
                statusDiv.style.color = '#00ff00';
                logToConsole('Module loading test passed', 'success');
            } catch (error) {
                statusDiv.textContent = '❌ Module loading failed: ' + error.message;
                statusDiv.style.color = '#ff0000';
                logToConsole('Module loading test failed: ' + error.message, 'error');
            }
        };
        
        window.testAITrainingStudio = async function() {
            const statusDiv = document.getElementById('training-status');
            const startBtn = document.getElementById('start-training-btn');
            const stopBtn = document.getElementById('stop-training-btn');
            
            try {
                statusDiv.textContent = 'Initializing AI Training Studio...';
                statusDiv.style.color = '#ffa500';
                
                aiTrainingStudio = new AITrainingStudio();
                await aiTrainingStudio.initialize();
                
                // Set up progress listener
                aiTrainingStudio.modules.progress.onProgressUpdate = (progress) => {
                    updateProgress(progress.percentage);
                    logToConsole(`Training progress: ${Math.round(progress.percentage)}%`, 'info');
                };
                
                statusDiv.textContent = '✅ AI Training Studio initialized successfully!';
                statusDiv.style.color = '#00ff00';
                startBtn.disabled = false;
                stopBtn.disabled = false;
                
                logToConsole('AI Training Studio initialized successfully', 'success');
            } catch (error) {
                statusDiv.textContent = '❌ AI Training Studio initialization failed: ' + error.message;
                statusDiv.style.color = '#ff0000';
                logToConsole('AI Training Studio initialization failed: ' + error.message, 'error');
            }
        };
        
        window.testStartTraining = async function() {
            if (!aiTrainingStudio) {
                logToConsole('AI Training Studio not initialized', 'error');
                return;
            }
            
            try {
                logToConsole('Starting training session...', 'info');
                await aiTrainingStudio.startTrainingSession();
                logToConsole('Training session started successfully', 'success');
            } catch (error) {
                logToConsole('Failed to start training: ' + error.message, 'error');
            }
        };
        
        window.testStopTraining = async function() {
            if (!aiTrainingStudio) {
                logToConsole('AI Training Studio not initialized', 'error');
                return;
            }
            
            try {
                logToConsole('Stopping training session...', 'info');
                await aiTrainingStudio.stopTrainingSession();
                logToConsole('Training session stopped successfully', 'success');
            } catch (error) {
                logToConsole('Failed to stop training: ' + error.message, 'error');
            }
        };
        
        function updateProgress(percentage) {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = Math.round(percentage) + '%';
        }
        
        function logToConsole(message, type = 'info') {
            const consoleOutput = document.getElementById('console-output');
            const timestamp = new Date().toLocaleTimeString();
            
            let color = '#00ff00';
            let prefix = 'ℹ️';
            
            switch (type) {
                case 'error':
                    color = '#ff0000';
                    prefix = '❌';
                    break;
                case 'success':
                    color = '#00ff00';
                    prefix = '✅';
                    break;
                case 'warning':
                    color = '#ffff00';
                    prefix = '⚠️';
                    break;
            }
            
            const logEntry = document.createElement('div');
            logEntry.style.color = color;
            logEntry.innerHTML = `[${timestamp}] ${prefix} ${message}`;
            
            consoleOutput.appendChild(logEntry);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
            
            // Keep only last 20 entries
            while (consoleOutput.children.length > 20) {
                consoleOutput.removeChild(consoleOutput.firstChild);
            }
        }
        
        // Initialize console
        logToConsole('Integration test page loaded', 'info');
    </script>
</body>
</html> 